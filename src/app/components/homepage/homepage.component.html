@if (isLoggedIn) {
<div class="page">
  <div class="new-post">
    <mat-form-field class="filter-input">
      <mat-label>Filter</mat-label>
      <input matInput />
    </mat-form-field>
    <span class="spacer"></span>
    <button mat-flat-button (click)="openDialog()">Create new post</button>
  </div>
  <div class="full-page">
    @for (post of posts; track $index) {

    <div class="grid">
      <div class="container">
        <div class="container-post">
          <h1>{{ post.title }}</h1>
          <mat-divider></mat-divider>
          <p>{{ post.body }}</p>
          <div class="container-post-icon">
            <div class="container-post-icon-account">
              <mat-icon>account_circle</mat-icon>
              <h3>{{ post.user_id }}</h3>
            </div>

            <div>
              <button mat-icon-button color="primary">
                <mat-icon>add_comment</mat-icon>
              </button>
              <button mat-icon-button color="primary">
                <mat-icon>thumb_up</mat-icon>
              </button>
            </div>
          </div>
          @for (comment of comments; track $index) { @if (post.id ===
          comment.post_id) {
          <div class="comments">
            <mat-divider></mat-divider>
            <div class="user-comment">
              <mat-icon>person</mat-icon>
              <h4>
                <strong>{{ comment.name }}</strong>
              </h4>
            </div>
            <p>{{ comment.body }}</p>
          </div>
          } }
        </div>
      </div>
    </div>
    }

    <div class="pagination">
      <button mat-button (click)="firstPage()" [disabled]="currentPage === 1">
        <mat-icon class="white-icon">first_page</mat-icon>
      </button>
      <button
        mat-button
        (click)="previousPage()"
        [disabled]="currentPage === 1"
      >
        <mat-icon class="white-icon">arrow_back</mat-icon>
      </button>
      <span class="white-icon">{{ currentPage }}</span>
      <button mat-button (click)="nextPage()">
        <mat-icon class="white-icon">arrow_forward</mat-icon>
      </button>
      <button mat-button (click)="lastPage()" [disabled]="currentPage === 20">
        <mat-icon class="white-icon">last_page</mat-icon>
      </button>
    </div>
  </div>
</div>
} @if (!isLoggedIn) {
<div class="page">
  <div class="error">
    <h1>You're not authorized!</h1>
    <h2>Plese insert a valid token for get the access</h2>
    <a routerLink="/login"><button mat-flat-button>Back to Login</button></a>
  </div>
</div>
}
